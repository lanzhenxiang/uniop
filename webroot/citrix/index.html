<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>测试</title>
</head>
<body>

<script  src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.js"></script>
<script type="text/javascript">
function checkFlash(){
    var hasFlash = false;
    var flashVersion = 0;
    if(window.ActiveXObject){
        var swf = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');
        if(swf){
            hasFlash = true;
            VSwf=swf.GetVariable("$version");
            flashVersion=parseInt(VSwf.split(" ")[1].split(",")[0]);
        }
    }else{
        if(navigator.plugins && navigator.plugins.length > 0){
            var swf = navigator.plugins["Citrix ICA Client"];
            if(swf){
                hasFlash = true;
                var words = swf.description.split(" ");
                for(var i=0; i<words.length;i++){
                    if(isNaN(parseInt(words[i]))) continue;
                    flashVersion = parseInt(words[i]);
                }
            }
        }
    }
    return {f:hasFlash,v:flashVersion};
} 
checkFlash();
</script>
</body>
</html>